<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//En"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.springboot.mapper.EmployeeMapper">
    <select id="selectAll" resultType="com.example.springboot.entity.Employee">
        SELECT * FROM `employee`
        <where>
            <if test="name != null"> name like concat('%', #{name}, '%')</if>
        </where>
    </select>

    <insert id="insert" parameterType="com.example.springboot.entity.Employee">
        INSERT INTO `employee` (name, sex, no, age, descr, department_id, username, password, role, avatar)
        VALUES (#{name}, #{sex}, #{no}, #{age}, #{descr}, #{departmentId}, #{username}, #{password}, #{role}, #{avatar})
    </insert>

    <update id="updateById" parameterType="com.example.springboot.entity.Employee">
        UPDATE `employee`
        set name = #{name}, sex = #{sex}, no = #{no}, age = #{age}, descr = #{descr}, department_id =  #{departmentId}, username = #{username}, password = #{password}, role = #{role}, avatar = #{avatar}
        where id = #{id}
    </update>
</mapper>